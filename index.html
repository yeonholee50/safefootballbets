<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>League Navigation</title>
    <style>
        /* CSS styles */
        table {
            font-family: Arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }
        
        td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<div id="table-container">
    <!-- Table will be generated dynamically using JavaScript -->
</div>

<script>
    // JavaScript code
    fetch('backend/receive/league_keys.txt')
        .then(response => response.text())
        .then(data => {
            const leagues = data.split('\n').map(line => line.split(' '));
            const sports = new Map();

            // Group leagues by sport
            leagues.forEach(league => {
                const sport = league[0].split('_')[0];
                if (!sports.has(sport)) {
                    sports.set(sport, []);
                }
                sports.get(sport).push(league[0]);
            });

            // Generate table
            const tableContainer = document.getElementById('table-container');
            const table = document.createElement('table');

            // Header row
            const headerRow = table.insertRow();
            const headerCell = document.createElement('th');
            headerCell.textContent = 'Sport';
            headerRow.appendChild(headerCell);

            sports.forEach((leagues, sport) => {
                const row = table.insertRow();
                const sportCell = row.insertCell();
                sportCell.textContent = sport.charAt(0).toUpperCase() + sport.slice(1);

                // Add dropdown for leagues
                const dropdownCell = row.insertCell();
                const dropdown = document.createElement('select');
                leagues.forEach(league => {
                    const option = document.createElement('option');
                    option.textContent = league.split('_').slice(1).join(' ');
                    dropdown.appendChild(option);
                });
                dropdownCell.appendChild(dropdown);
            });

            tableContainer.appendChild(table);
        })
        .catch(error => console.error('Error fetching league data:', error));
</script>

</body>
</html>


